<!-- loio41e8d85586f64e7184f388f8d58624a8 -->

# Metering and Pricing for Generative AI

Generative AI usage in SAP AI Core is measured using tokens, which are converted into capacity units based on input and output volume. Billing is calculated according to these capacity units and varies by model type and usage pattern.



<a name="loio41e8d85586f64e7184f388f8d58624a8__section_ugc_xwy_dfc"/>

## Metering for Generative AI

> ### Note:  
> The generative AI hub is available only as part of the Extended service plan.

Use of large language models \(LLMs\) is metered in tokens. Tokens are the fundamental building blocks of text that a language model processes. They represent single characters, parts of words, entire words, or even punctuation marks. They're the unit that the LLM breaks down text input and output to.

It's important to distinguish between input and output tokens. Input tokens refer to the text provided in the prompt, while output tokens represent the response generated by the LLM. The ratio between input and output tokens varies depending on the prompt and the use case.

For example, in summarization tasks, the ratio of input to output tokens could be 3:1 or even 4:1. In contrast, tasks like generating explanations or drafting longer pieces of text could have an inverse ratio, with output tokens significantly outnumbering input tokens.

The number of tokens required depends on the content and complexity of your prompt and the specific task assigned to the LLM. Token consumption varies with the capabilities of the LLM being used, with more advanced models typically requiring and processing a higher number of tokens.

Consumption of generative AI in SAP AI Core is measured in GenAI tokens. GenAI tokens are a virtual unit used to represent usage across different models. The actual number of processed tokens \(input and output\) that corresponds to one GenAI token varies by model.

Generative AI resource requirements vary based on the use case. Available resources are shown in the table:


<table>
<tr>
<th valign="top">

Resource Type

</th>
<th valign="top">

SAP AI Core Resources

</th>
<th valign="top">

Unit of Measure \(UoM\)

</th>
</tr>
<tr>
<td valign="top">

Provisioning of foundation models

</td>
<td valign="top">

Access to \(LLMs\) and other generative AI capabilities

</td>
<td valign="top">

Tokens

</td>
</tr>
<tr>
<td valign="top">

Baseline

</td>
<td valign="top">

Grounding Service

</td>
<td valign="top">

Gigabyte day

</td>
</tr>
</table>



<a name="loio41e8d85586f64e7184f388f8d58624a8__section_ypx_1vd_kfc"/>

## Pricing for Generative AI

The billing metric for SAP BTP is referred to as “capacity units” \(CUs\). Capacity units are calculated using conversion factors applied to GenAI tokens.

In general, output tokens tend to be slightly more expensive than input tokens.

For more information about the supported models, including the conversion rates between model tokens and GenAI tokens, see SAP Note [3437766](https://me.sap.com/notes/3437766).

Here's an example estimation, using fictitious values:

> ### Example:  
> This example contains:
> 
> -   A retrieval-augmented generation \(RAG\) system handling 25,000 requests in a single month results in the following costs:
> 
> -   Language model use: The total of 25,000 requests, each with 3,500 input tokens and 300 output tokens.
> 
> -   Grounding service: The RAG pipeline retrieves and processes context using the following orchestration modules:
> 
>     -   Storage in Grounding \(for storing relevant documents\)
> 
>     -   Retrieval in Grounding \(for fetching context during inference\)
> 
>     -   Content Filtering
> 
>     -   Data Masking \(for privacy and compliance\)
> 
> 
> 
> The following orchestration services are essential to support the grounding step and introduce additional capacity usage beyond the core LLM calls.
> 
> -   The Grounding storage module stores contextual documents in the vector engine.
> 
> -   The Grounding retrieval module retrieves context documents during inference.
> 
> -   Content Filtering via Meta Llama Guard helps to ensure content safety and relevance.
> 
> -   Data Masking, handled by SAP Data Privacy Integration, applies masking at the API level.
> 
> 
> Each module uses its own metric \(storage size, text blocks, API calls\) multiplied by monthly usage, then converted to capacity units to estimate resource consumption and cost.
> 
> **Calculate the calls incurred through LLM calls:**
> 
> This example uses a model with an input GenAI token conversion rate of 0.00112 per 1,000 input tokens. The output GenAI token conversion rate is 0.00320 per 1,000 output tokens.
> 
> 1.  Calculate Total GenAI tokens
> 
>     Formula: Total GenAI tokens = \(x/1000 × conversion rate per 1,000 input tokens\) + \(y/1000 × conversion rate per 1000 output tokens\)
> 
>     In this formula, “x” is the number of input tokens and “y” is the number of output tokens. The conversion rates per 1,000 input and output tokens are given constants.
> 
>     This example includes 3,500 input tokens and 300 output tokens. The conversion rate is 0.00112 per 1,000 input tokens and 0.00320 per 1,000 output tokens.
> 
>     Values: Total GenAI Tokens = \(3500/1000 × 0.00112\) + \(300/1000 × 0.00320\) = 0.00488
> 
> 2.  Calculate capacity units
> 
>     Formula: capacity units = Total GenAI Tokens × 2.24038
> 
>     In this formula, “Total GenAI Tokens” is the value calculated in the previous step and 2.24038 the capacity unit value, given as a constant.
> 
>     Values: capacity units = 0.00488 × 2.24038 = 0.01093
> 
> 3.  Calculate Total Usage for handling 25,000 requests
> 
>     Formula: Total capacity units = Requests × capacity units per request
> 
>     In this formula, “Requests” is the number of requests to be handled \(in this case, 25,000\) and “capacity units per request” is the value calculated in the previous step.
> 
>     Values: Total capacity units = 25,000 × 0.01093 = $273.25
> 
> 
> **Calculate Grounding Module Costs:**
> 
> The RAG architecture needs various supporting services to handle contextual data for the language model. These services use resources measured by specific metrics, which are converted into capacity units based on usage volume and internal conversion factors
> 
> Each module uses its own metric \(storage size, text blocks, API calls\) multiplied by monthly usage. The values are converted to capacity units to quantify resource consumption and estimate cost.
> 
> 
> <table>
> <tr>
> <th valign="top">
> 
> Module
> 
> </th>
> <th valign="top">
> 
> Service
> 
> </th>
> <th valign="top">
> 
> Metric
> 
> </th>
> <th valign="top">
> 
> Metric Value
> 
> </th>
> <th valign="top">
> 
> Occurrences / Month
> 
> </th>
> <th valign="top">
> 
> Capacity Units / Month
> 
> </th>
> </tr>
> <tr>
> <td valign="top">
> 
> Grounding
> 
> </td>
> <td valign="top">
> 
> Storage
> 
> </td>
> <td valign="top">
> 
> Storage in GB / Day
> 
> </td>
> <td valign="top">
> 
> 1
> 
> </td>
> <td valign="top">
> 
> 30
> 
> </td>
> <td valign="top">
> 
> 6.2 CU
> 
> </td>
> </tr>
> <tr>
> <td valign="top">
> 
> Grounding
> 
> </td>
> <td valign="top">
> 
> Retrieval
> 
> </td>
> <td valign="top">
> 
> Text Blocks
> 
> </td>
> <td valign="top">
> 
> 1
> 
> </td>
> <td valign="top">
> 
> 25.000
> 
> </td>
> <td valign="top">
> 
> 30 CU
> 
> </td>
> </tr>
> <tr>
> <td valign="top">
> 
> Content Filter
> 
> </td>
> <td valign="top">
> 
> Meta Llama Guard
> 
> </td>
> <td valign="top">
> 
> Text Blocks
> 
> </td>
> <td valign="top">
> 
> 5
> 
> </td>
> <td valign="top">
> 
> 25.000
> 
> </td>
> <td valign="top">
> 
> 84 CU
> 
> </td>
> </tr>
> <tr>
> <td valign="top">
> 
> Data Masking
> 
> </td>
> <td valign="top">
> 
> SAP Data Privacy Integration
> 
> </td>
> <td valign="top">
> 
> API Calls
> 
> </td>
> <td valign="top">
> 
> 1
> 
> </td>
> <td valign="top">
> 
> 25.000
> 
> </td>
> <td valign="top">
> 
> 66.1 CU
> 
> </td>
> </tr>
> <tr>
> <td valign="top" colspan="5">
> 
> Total
> 
> </td>
> <td valign="top">
> 
> 186.3 CU
> 
> </td>
> </tr>
> </table>
> 
> Total consumption = 273.25 + 186.3 = 459.55 CU



<a name="loio41e8d85586f64e7184f388f8d58624a8__section_w4y_hpl_nfc"/>

## Images

For image use with Mistral Small Instruct, images are converted into tokens in batches of 14\*14 pixels. The formula for the number of image tokens is: \(ResolutionX/14\) \* \(ResolutionY/14\). Images with a resolution higher than 1540\*1540 are downscaled, while maintaining their aspect ratio.

> ### Example:  
> This example uses fictitious values.
> 
> Given an image of resolution 720\*512, the number of GenAI tokens consumed through the image is:
> 
> GenAI Image tokens = \(720/14\)\*\(512/14\) = 1,880

The calculation for image tokens also includes additional sequence start and end tokens, as well as tokens for image breaks.



## Typical Consumption Patterns

The following table displays API request counts for productive IT use cases based on the consumption patterns “small”, “medium”, and “large”. It also specifies the average distribution of input and output tokens, which can help you estimate potential costs for consuming foundation models.


<table>
<tr>
<th valign="top">

Use Case

</th>
<th valign="top">

Input Tokens

</th>
<th valign="top">

Output Tokens

</th>
<th valign="top">

Tokens Occurrences / Request per Month: Small

</th>
<th valign="top">

Tokens Occurrences / Request per Month: Medium

</th>
<th valign="top">

Tokens Occurrences / Request per Month: Large

</th>
</tr>
<tr>
<td valign="top">

RAG Chat

</td>
<td valign="top">

3500

</td>
<td valign="top">

300

</td>
<td valign="top">

1000

</td>
<td valign="top">

25k

</td>
<td valign="top">

300k

</td>
</tr>
<tr>
<td valign="top">

Basic Chat

</td>
<td valign="top">

500

</td>
<td valign="top">

100

</td>
<td valign="top">

1000

</td>
<td valign="top">

30k

</td>
<td valign="top">

300k

</td>
</tr>
<tr>
<td valign="top">

Summarization

</td>
<td valign="top">

5000

</td>
<td valign="top">

300

</td>
<td valign="top">

1000

</td>
<td valign="top">

25k

</td>
<td valign="top">

300k

</td>
</tr>
<tr>
<td valign="top">

Classification

</td>
<td valign="top">

3800

</td>
<td valign="top">

10

</td>
<td valign="top">

1000

</td>
<td valign="top">

5k

</td>
<td valign="top">

50k

</td>
</tr>
<tr>
<td valign="top">

Generation

</td>
<td valign="top">

500

</td>
<td valign="top">

3500

</td>
<td valign="top">

1000

</td>
<td valign="top">

2k

</td>
<td valign="top">

50k

</td>
</tr>
</table>

The generative AI hub provides additional modules through the Orchestration API, including:

-   Grounding
-   Content Filtering
-   Data Masking

Charges associated with the use of other SAP AI Core components can also apply. For more information, see [Metering and Pricing for Predictive AI](metering-and-pricing-for-predictive-ai-32f8775.md).

> ### Recommendation:  
> For an estimate of projected costs, use the [SAP AI Core Cost Calculator](https://ai-core-calculator.cfapps.eu10.hana.ondemand.com/uimodule/index.html).

